<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet id="1" author="mafischer">
        <createTable tableName="SYSTEMUSER">
            <column name="uid" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="username" type="varchar(50)" />
            <column name="password" type="varchar(1020)"/>
        </createTable>
        
        <createTable tableName="LOCATION">
            <column name="lid" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="displayname" type="varchar(200)" />
            <column name="street" type="varchar(200)" />
            <column name="plz" type="varchar(200)"/>
            <column name="city" type="varchar(200)"/>
            <column name="country" type="varchar(200)"/>
        </createTable>
        
        <createTable tableName="HARDWARE">
            <column name="hid" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="hostname" type="varchar(200)">
                <constraints unique="true" nullable="false"/>
            </column>
            <column name="owner" type="varchar(200)" />
            <column name="aktivusername" type="varchar(200)" />
            <column name="aktivdate" type="varchar(200)" />
            <column name="lastlogin" type="varchar(200)" />
            <column name="model" type="varchar(200)" />
            <column name="bs" type="varchar(200)"/>
            <column name="ip" type="varchar(200)"/>
            <column name="description" type="varchar(200)"/>
            <column name="categorie" type="varchar(200)"/>
            <column name="cpu" type="varchar(200)"/>
            <column name="ram" type="varchar(200)"/>
            <column name="sn" type="varchar(200)"/>
            <column name="location" type="int"/>
        </createTable>
        
        <createTable tableName="HARDWARELOG">
            <column name="hpid" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="eventId" type="varchar(200)" />
            <column name="category" type="varchar(200)" />
            <column name="message" type="varchar(200)"/>
            <column name="source" type="varchar(200)"/>
            <column name="timegenerated" type="varchar(200)"/>
            <column name="timewritten" type="varchar(200)"/>
            <column name="username" type="varchar(200)"/>
            <column name="hostname" type="varchar(200)"/>
        </createTable> 
        
    </changeSet>
    
    <changeSet author="MaFischer" id="1423057244463-109">
		<createTable tableName="LIZENZ">
			<column name="lid" type="BIGINT" autoIncrement="true">
				<constraints nullable="false" />
			</column>
			<column name="name" type="VARCHAR(1020)" />
			<column name="key" type="VARCHAR(1020)" />
			<column name="categorie" type="VARCHAR(1020)" />
			<column name="state" type="INT" />
		</createTable>
	</changeSet>

    <changeSet author="MaFischer" id="1423057244463-121">
		<createTable tableName="Vorlagen">
			<column name="vid" type="BIGINT" autoIncrement="true">
				<constraints nullable="false" />
			</column>
            <column name="name" type="VARCHAR(1020)" />
			<column name="department" type="VARCHAR(1020)" />
			<column name="monitorCount" type="INTEGER" />
			<column name="laptopID" type="INTEGER" />
			<column name="handyID" type="INTEGER" />
            <column name="telephone" type="BOOLEAN" />
			<column name="pc" type="BOOLEAN" />			
		</createTable>
	</changeSet>
    
    <changeSet author="MaFischer" id="1423057244463-110">
		<createTable tableName="SOFTWARE">
			<column name="sid" type="BIGINT" autoIncrement="true">
				<constraints unique="true" nullable="false" />
			</column>
			<column name="name" type="VARCHAR(1020)"/>
		</createTable>
	</changeSet>
	
	<changeSet author="MaFischer" id="1423057244463-111">
		<createTable tableName="HARDWARE_SOFTWARE">
			<column name="hid" type="BIGINT"/>
			<column name="sid" type="BIGINT"/>
		</createTable>
	</changeSet>
	
	<changeSet author="MaFischer" id="1423057244463-112">
		<createTable tableName="HARDWARE_LIZENZ">
			<column name="hid" type="BIGINT"/>
			<column name="lid" type="BIGINT"/>
		</createTable>
	</changeSet>
	
    <changeSet author="MaFischer" id="1423057244463-113">
		<createTable tableName="ADSETTING">
			<column name="sid" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="server" type="varchar(200)" />
            <column name="port" type="INTEGER" />
            <column name="ssl" type="BOOLEAN" />
            <column name="domaine" type="varchar(200)" />
            <column name="binduser" type="varchar(200)"/>
            <column name="password" type="varchar(200)"/>
            <column name="binduserou" type="varchar(200)"/>
            <column name="interneuserou" type="varchar(200)"/>
            <column name="internegroupou" type="varchar(200)"/>
            <column name="internehardwareou" type="varchar(200)"/>
            <column name="interneserverou" type="varchar(200)"/>
		</createTable>
	</changeSet>

    <changeSet author="MaFischer" id="1423057244463-126">
		<createTable tableName="Handy">
			<column name="tid" type="BIGINT" autoIncrement="true">
				<constraints nullable="false" />
			</column>
            <column name="name" type="VARCHAR(1020)" />
			<column name="model" type="VARCHAR(1020)" />
			<column name="farbe" type="VARCHAR(1020)" />			
		</createTable>
	</changeSet>

    <changeSet author="MaFischer" id="1423057244463-1254">
		<createTable tableName="Department">
			<column name="did" type="BIGINT" autoIncrement="true">
				<constraints nullable="false" />
			</column>
            <column name="name" type="VARCHAR(1020)" />
			<column name="departmanet" type="VARCHAR(1020)" />
			<column name="position" type="VARCHAR(1020)" />			
		</createTable>
	</changeSet>
	
	<changeSet author="MaFischer" id="1423057244463-12556">
		<addColumn tableName="LIZENZ">
         <column name="reserved" type="varchar(255)"/>
    	</addColumn>
	</changeSet>
	
	<changeSet author="MaFischer" id="1423057244463-12557">
		<addColumn tableName="HARDWARE">
         <column name="department" type="varchar(255)"/>
    	</addColumn>
	</changeSet>
	
	<changeSet author="MaFischer" id="1423057244463-12234234">
		<createTable tableName="DISTRIBUTESOFTWARE">
			<column name="dsid" type="BIGINT" autoIncrement="true">
				<constraints nullable="false" />
			</column>
            <column name="displayname" type="VARCHAR(1020)" />
			<column name="installconent" type="VARCHAR(1020)" />
			<column name="description" type="VARCHAR(1020)" />	
			<column name="defaultsoftware" type="BOOLEAN" />
			<column name="distribute" type="BOOLEAN" />
			<column name="removebydeleting" type="BOOLEAN" />
			<column name="deleted" type="BOOLEAN" />
			<column name="msi" type="BOOLEAN" />			
		</createTable>
	</changeSet>
	
	<changeSet author="MaFischer" id="1423057244463-234234">
		<createTable tableName="HARDWARE_DISTRIBUTESOFTWARE">
            <column name="hid" type="BIGINT">
				<constraints nullable="false" />
			</column>
			<column name="dsid" type="BIGINT">
				<constraints nullable="false" />
			</column>
			<column name="date" type="VARCHAR(1020)" />			
		</createTable>
	</changeSet>
	
	<changeSet author="MaFischer" id="1423057244463-1251257">
	
		<addColumn tableName="HARDWARE">
         <column name="icon" type="varchar(255)"/>
    	</addColumn>
    	
		<addColumn tableName="HARDWARE">
         <column name="aktivuserphone" type="varchar(255)"/>
    	</addColumn>
    	
		<addColumn tableName="HARDWARE">
         <column name="verliehen" type="BOOLEAN"/>
    	</addColumn>
    	
    </changeSet>
    
    <changeSet author="MaFischer" id="1423057244463-113-3">
		<createTable tableName="LDAPUSER">
			<column name="luid"  type="BIGINT" autoIncrement="true">
				<constraints nullable="false" />
			</column>
            <column name="username" type="VARCHAR(1020)" />
			<column name="token" type="VARCHAR(1020)" />
			<column name="description" type="VARCHAR(1020)" />	
			<column name="phone" type="VARCHAR(1020)" />
		</createTable>
	</changeSet>
    
    <changeSet author="MaFischer" id="1423057244463-111-1">
		<createTable tableName="ldapuser_lizenz">
			<column name="luid" type="BIGINT"/>
			<column name="lid" type="BIGINT"/>
		</createTable>
	</changeSet>
	
	<changeSet author="MaFischer" id="1423057244463-112-2">
		<createTable tableName="ldapuser_hardware">
			<column name="hid" type="BIGINT"/>
			<column name="luid" type="BIGINT"/>
		</createTable>
	</changeSet>
	
	<changeSet author="MaFischer" id="1423057244463-12512573">
		<addColumn tableName="HARDWARE">
         <column name="verliehenbis" type="BIGINT"/>
    	</addColumn>    	
    </changeSet>
    
    <changeSet author="MaFischer" id="1423057244463-113-4">
		<createTable tableName="MOBILEUSER">
			<column name="mid"  type="BIGINT" autoIncrement="true">
				<constraints nullable="false" />
			</column>
			<column name="hid" type="BIGINT" />
			<column name="cid" type="BIGINT" />
			
            <column name="name" type="VARCHAR(1020)" />
			<column name="number" type="VARCHAR(1020)" />
			<column name="sim" type="VARCHAR(1020)" />	
			<column name="pin" type="VARCHAR(1020)" />	
			<column name="puk" type="VARCHAR(1020)" />	
			<column name="ultraone" type="VARCHAR(1020)" />	
			<column name="ultratwo" type="VARCHAR(1020)" />
		</createTable>
		
		<createTable tableName="CONTRACT">
			<column name="cid"  type="BIGINT" autoIncrement="true">
				<constraints nullable="false" />
			</column>
            <column name="name" type="VARCHAR(1020)" />
			<column name="cost" type="VARCHAR(1020)" />
			<column name="discount" type="VARCHAR(1020)" />	
			<column name="description" type="VARCHAR(1020)" />
			<column name="contract" type="VARCHAR(1020)" />
			<column name="enable" type="BOOLEAN" />
		</createTable>
		
		<createTable tableName="HANDY">
			<column name="hid"  type="BIGINT" autoIncrement="true">
				<constraints nullable="false" />
			</column>
			<column name="hmid" type="BIGINT" />
            <column name="imei" type="VARCHAR(1020)" />
			<column name="deliverydate" type="VARCHAR(1020)" />
			<column name="description" type="VARCHAR(1020)" />	
		</createTable>
		
		<createTable tableName="HANDYMODEL">
			<column name="hmid"  type="BIGINT" autoIncrement="true">
				<constraints nullable="false" />
			</column>
            <column name="displayname" type="VARCHAR(1020)" />
			<column name="model" type="VARCHAR(1020)" />
			<column name="color" type="VARCHAR(1020)" />	
			<column name="store" type="VARCHAR(1020)" />
			<column name="selectable" type="BOOLEAN" />
		</createTable>
	</changeSet>
	
	<changeSet author="MaFischer" id="1423057244463-113-5">
		<createTable tableName="CONVERTJOB">
			<column name="cjid" type="BIGINT" autoIncrement="true">
				<constraints nullable="false" />
			</column>
            <column name="name" type="VARCHAR(1020)" />
            <column name="status" type="VARCHAR(1020)" />
			<column name="date" type="date" />
			<column name="input" type="LONGVARBINARY" />
			<column name="output" type="LONGVARBINARY" />		
		</createTable>
	</changeSet>
	
	<changeSet author="MaFischer" id="2">
		<addColumn tableName="HARDWARE">
         <column name="storage" type="VARCHAR(1020)"/>
    	</addColumn>   
    	<addColumn tableName="HARDWARE">
         <column name="mac" type="VARCHAR(1020)"/>
    	</addColumn>  	
    </changeSet>
    
    <changeSet author="MaFischer" id="3">
		<addColumn tableName="HARDWARE">
         <column name="encodingkey" type="VARCHAR(1020)"/>
    	</addColumn>   
    	<addColumn tableName="HARDWARE">
         <column name="encodingname" type="VARCHAR(1020)"/>
    	</addColumn>  	
    </changeSet>

	<changeSet author="MaFischer" id="4">
		<addColumn tableName="LIZENZ">
			<column name="allowamount" type="BIGINT"/>
		</addColumn>
	</changeSet>

	<changeSet author="MaFischer" id="5">
		<createTable tableName="CHANGELOG">
			<column name="clid" type="BIGINT" autoIncrement="true">
				<constraints nullable="false" />
			</column>
			<column name="date" type="BIGINT" />
			<column name="changelog" type="VARCHAR(1020)" />
			<column name="username" type="VARCHAR(1020)" />
		</createTable>
	</changeSet>

	<changeSet author="MaFischer" id="6">
		<addColumn tableName="CHANGELOG">
			<column name="system" type="VARCHAR(1020)"/>
		</addColumn>
	</changeSet>

	<changeSet author="MaFischer" id="7">
		<addColumn tableName="CHANGELOG">
			<column name="hid" type="BIGINT"/>
		</addColumn>
	</changeSet>

	<changeSet author="MaFischer" id="8">
		<addColumn tableName="systemuser">
			<column name="email" type="VARCHAR(1020)"/>
		</addColumn>
	</changeSet>

	<changeSet author="MaFischer" id="9">
		<addColumn tableName="HARDWARE">
			<column name="status" type="INTEGER"/>
		</addColumn>
	</changeSet>

	<changeSet author="MaFischer" id="10">
		<addColumn tableName="CHANGELOG">
			<column name="title" type="CHAR(1020)"/>
		</addColumn>
	</changeSet>

	<changeSet author="MaFischer" id="11">
		<createTable tableName="LDAPGROUP">
			<column name="lgid" type="BIGINT">
				<constraints nullable="false" />
			</column>
			<column name="groupname" type="VARCHAR(1020)" />
			<column name="groupdn" type="VARCHAR(1020)" />
		</createTable>
	</changeSet>

	<changeSet author="MaFischer" id="12">
		<createTable tableName="DEPARTMENT_LDAPGROUP">
			<column name="did" type="BIGINT"/>
			<column name="lgid" type="BIGINT"/>
		</createTable>
	</changeSet>

	<changeSet author="MaFischer" id="13">
		<addColumn tableName="HARDWARE">
			<column name="billnumber" type="VARCHAR(1020)"/>
			<column name="receivedate" type="BIGINT"/>
			<column name="bill" type="VARCHAR(1020)"/>
			<column name="deliverynote" type="VARCHAR(1020)"/>
		</addColumn>
	</changeSet>

</databaseChangeLog>